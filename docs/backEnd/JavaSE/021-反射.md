# åå°„

## åŸºæœ¬æ¦‚å¿µ

ğŸš€ **ä½œç”¨**ï¼šåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼ŒåŠ¨æ€çš„è·å–ç±»å¯¹è±¡ï¼Œä»è€Œä½¿ç”¨ç±»å¯¹è±¡è·å–ç±»ä¸­ç›¸å…³çš„ä¿¡æ¯å¹¶ä¸”è®¿é—®ï¼›

**é€šä¿—çš„è®²**ï¼šä¸é€šè¿‡newå¯¹è±¡çš„æ–¹å¼ï¼Œä¾ç„¶å¯ä»¥è®¿é—®ç±»ä¸­çš„å±æ€§ã€æ–¹æ³•ã€æ„é€ æ–¹æ³•ï¼›

```java
ç”Ÿæ´»ä¸­çš„åå°„ï¼šå€’è½¦é•œï¼Œæ‹Xå…‰ç‰‡ï¼ŒIDEçš„è‡ªåŠ¨æç¤ºï¼Œ
    åœ¨å¤–éƒ¨å°±å¯ä»¥å¾—åˆ°å†…éƒ¨çš„ä¸œè¥¿ï¼Œç±»ä¼¼äºä¸€ä¸ªé•œå­ï¼Œé€šè¿‡é•œå­èƒ½çœ‹åˆ°åè¾¹çš„å†…å®¹ã€‚è¿™å°±æ˜¯åå°„ã€‚
ä¸‡ç‰©çš†å¯¹è±¡ ç±»ã€å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ ä¹Ÿå±äºå¯¹è±¡ã€‚
```

ğŸ¨ åå°„ç±»ä»‹ç»

`java.lang.Class` ç±»ç±»ï¼Œæ¯ä¸€ä¸ªç±»éƒ½å°†åœ¨ç±»åŠ è½½é˜¶æ®µè‡ªåŠ¨äº§ç”Ÿæ­¤ç±»çš„å®ä¾‹ï¼›

`java.lang.reflect.Field` å­—æ®µ/å±æ€§ç±»ï¼Œä»»ä½•ä¸€ä¸ªå±æ€§éƒ½å±äºæ­¤ç±»çš„å®ä¾‹ï¼›

`java.lang.reflect.Method` æ–¹æ³•ç±»ï¼Œä»»ä½•ä¸€ä¸ªæ–¹æ³•éƒ½å±äºæ­¤ç±»çš„å®ä¾‹ï¼›

`java.lang.Constructor `æ„é€ å™¨ç±»ï¼Œä»»ä½•ä¸€ä¸ªæ„é€ å™¨éƒ½å±äºæ­¤ç±»çš„å®ä¾‹ï¼›



## è·å–Classå¯¹è±¡

ğŸš€ æ–¹å¼1ï¼šé€šè¿‡Class.forName è·å–Classå¯¹è±¡

```java
// æ–¹å¼1ï¼šé€šè¿‡Class.forName è·å–Classå¯¹è±¡ ( Stringç±»å‹çš„ å…¨é™å®šå)
// åªèƒ½åœ¨è¿è¡Œæ—¶ï¼Œè·å–åˆ°ä¼ å…¥çš„å‚æ•°ï¼Œæ— æ³•åœ¨ç¼–è¯‘æ—¶å¾—çŸ¥Classç±»å¯¹è±¡çš„ç±»å‹
Class<?> aClass = Class.forName("com.ReflectPart.Singer");
System.out.println("aClass = " + aClass); // class com.ReflectPart.Singer
```

ğŸš€ æ–¹å¼2ï¼šä½¿ç”¨ç±»å.classå±æ€§ è·å–Classå¯¹è±¡

```java
// æ–¹å¼2ï¼šä½¿ç”¨ç±»å.classå±æ€§ è·å–Classå¯¹è±¡
// åœ¨ç¼–è¯‘æ—¶ï¼Œå°±å¾—çŸ¥Classç±»å¯¹è±¡çš„ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥æå‰å¾—çŸ¥Classç±»å‹çš„å¯¹è±¡ï¼Œæ³›å‹ä¸ºSinger
Class<Singer> singerClass = Singer.class;
System.out.println("singerClass = " + singerClass); // class com.ReflectPart.Singer
```

ğŸš€ æ–¹å¼3ï¼šä½¿ç”¨Objectç±»ä¸­getClass() æ–¹æ³•ï¼Œè·å–Classå¯¹è±¡ï¼ˆå®ä¾‹æ–¹æ³•ï¼‰

```java
// æ–¹å¼3ï¼šä½¿ç”¨Objectç±»ä¸­getClass() æ–¹æ³•ï¼Œè·å–Classå¯¹è±¡ï¼ˆå®ä¾‹æ–¹æ³•ï¼‰
// åœ¨ç¼–è¯‘æ—¶ï¼Œå¯ä»¥å¾—çŸ¥Classç±»å‹çš„å¯¹è±¡ä¸ºSingerç±»æˆ–Singerç±»çš„å­ç±»ï¼Œ
Singer hanser = new Singer();
Class<? extends Singer> aClass1 = hanser.getClass();
System.out.println("aClass1 = " + aClass1); // class com.ReflectPart.Singer
```

## Classç±»

ç±»æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªç±»

**æ–¹æ³•**

newInstance()

```java
ä½œç”¨ï¼šåˆ›å»ºå½“å‰Classå¯¹è±¡æ‰€å¯¹åº”æ³›å‹çš„å®ä¾‹ï¼ˆå®ä¾‹æ–¹æ³•ï¼‰
    
å‚æ•°ï¼šæ— 
    
è¿”å›å€¼ï¼šå®ä¾‹å¯¹è±¡
    
ç¤ºä¾‹ï¼š
// æ–¹å¼2ï¼šä½¿ç”¨ç±»å.classå±æ€§ è·å–Classå¯¹è±¡
// åœ¨ç¼–è¯‘æ—¶ï¼Œå°±å¾—çŸ¥Classç±»å¯¹è±¡çš„ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥æå‰å¾—çŸ¥Classç±»å‹çš„å¯¹è±¡ï¼Œæ³›å‹ä¸ºSinger
Class<Singer> singerClass = Singer.class;
System.out.println("singerClass = " + singerClass); // class com.ReflectPart.Singer

// è¿”å›ä¸€ä¸ª Singer (æ³›å‹)ç±»å‹çš„å®ä¾‹
Singer singer = singerClass.newInstance()
```

getField(String fieldName)

```java
ä½œç”¨ï¼šæ ¹æ®å­—æ®µåç§°è·å–åˆ°ä¸€ä¸ªpublicä¿®é¥°çš„å­—æ®µå¯¹è±¡
    
å‚æ•°ï¼šStringç±»å‹
    
è¿”å›å€¼ï¼šFieldç±»å‹
    
ç¤ºä¾‹ï¼š
    
// è·å–Classå¯¹è±¡
Class<?> stuClass = Class.forName("com.yuluochenxiao.Student");
    
// è·å–å­—æ®µå¯¹è±¡
Field field = stuClass.getField("age");
```

getFields()

```java
ä½œç”¨ï¼šè·å–æœ¬ç±»ä¸­æ‰€æœ‰çš„publicå…³é”®å­—ä¿®é¥°çš„å­—æ®µ
    
å‚æ•°ï¼šæ— 
    
è¿”å›å€¼ï¼šFieldç±»å‹çš„æ•°ç»„
    
ç¤ºä¾‹ï¼š

// è·å–Classå¯¹è±¡
Class<?> stuClass = Class.forName("com.yuluochenxiao.Student");
    
// è·å–å­—æ®µå¯¹è±¡
Field[] fields = stuClass.getFields();

// éå†
fields.for
```

getDeclaredField(String name)

```java
ä½œç”¨ï¼šè·å–åˆ°æŒ‡å®šçš„æœ¬ç±»ä¸­å·²å®šä¹‰çš„å­—æ®µ(ç§æœ‰çš„ä¹Ÿå¯ä»¥è·å–åˆ°)
    
å‚æ•°ï¼šå­—æ®µçš„Stringåç§°
    
è¿”å›å€¼ï¼šFieldç±»å‹
    
ç¤ºä¾‹ï¼š

// è·å–Classå¯¹è±¡
Class<?> stuClass = Class.forName("com.yuluochenxiao.Student");
    
// è·å–å­—æ®µå¯¹è±¡
Field field = stuClass.getDeclaredField("name");

```

getDeclaredFields() 

```java
ä½œç”¨ï¼šè·å–åˆ°æœ¬ç±»ä¸­æ‰€æœ‰çš„å·²å®šä¹‰çš„å­—æ®µ
    
å‚æ•°ï¼šæ— 
    
è¿”å›å€¼ï¼šFieldç±»å‹æ•°ç»„
    
ç¤ºä¾‹ï¼š

// è·å–Classå¯¹è±¡
Class<?> stuClass = Class.forName("com.yuluochenxiao.Student");
    
// è·å–å­—æ®µå¯¹è±¡
Field[] fields = stuClass.getDeclaredFields();

// éå†
fields.for
```



## Fieldç±»

ç±»ä¸­çš„å±æ€§ä¹Ÿæœ‰è‡ªå·±çš„ç±»ï¼ˆç±»å‹å®šä¹‰ï¼Œä¸‡ç‰©çš†å¯¹è±¡ï¼‰

**æ–¹æ³•**

getName()

```java
ä½œç”¨ï¼šè·å–å­—æ®µçš„åç§°
    
å‚æ•°ï¼šæ— 
    
è¿”å›å€¼ï¼šString
    
ç¤ºä¾‹ï¼š

// è·å–Classå¯¹è±¡
Class<?> stuClass = Class.forName("com.yuluochenxiao.Student");
    
// è·å–å­—æ®µå¯¹è±¡
Field field = stuClass.getField("age");

// è·å–å­—æ®µçš„åç§°
field.getName()
```

getType()

```java
ä½œç”¨ï¼šè·å–å­—æ®µçš„ç±»å‹
    
å‚æ•°ï¼šæ— 
    
è¿”å›å€¼ï¼šString
    
ç¤ºä¾‹ï¼š

// è·å–Classå¯¹è±¡
Class<?> stuClass = Class.forName("com.yuluochenxiao.Student");
    
// è·å–å­—æ®µå¯¹è±¡
Field field = stuClass.getField("age");

// è·å–å­—æ®µçš„ç±»å‹
field.getType() // åŸºæœ¬æ•°æ®ç±»å‹ã€æ•°ç»„ã€ç­‰
```

getModifiers()

```java
ä½œç”¨ï¼šè·å–å­—æ®µçš„Javaè¯­è¨€è®¿é—®ä¿®é¥°ç¬¦
    1 ä»£è¡¨æ˜¯publicä¿®é¥°çš„
    
å‚æ•°ï¼šæ— 
    
è¿”å›å€¼ï¼šString
    
ç¤ºä¾‹ï¼š

// è·å–Classå¯¹è±¡
Class<?> stuClass = Class.forName("com.yuluochenxiao.Student");
    
// è·å–å­—æ®µå¯¹è±¡
Field field = stuClass.getField("age");

// è·å–å­—æ®µçš„ç±»å‹
field.getType() // åŸºæœ¬æ•°æ®ç±»å‹ã€æ•°ç»„ã€ç­‰
```

set()

```java
ä½œç”¨ï¼šç»™å±æ€§èµ‹å€¼ã€‚
    
å‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å“ªä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯èµ‹å€¼
    
è¿”å›å€¼ï¼šæ— 
    
ç¤ºä¾‹ï¼š
// è·å–Classå¯¹è±¡
Class<?> stuClass = Class.forName("com.yuluochenxiao.Student");
    
// è·å–å­—æ®µå¯¹è±¡
Field field1 = stuClass.getField("age");
    
// è·å–å¯¹è±¡ï¼ˆæ–¹å¼1ï¼‰
// Student stu = new Student();
Object o = stuClass.newInstance()

// èµ‹å€¼ï¼ˆæ–¹å¼1ï¼‰
// field1.set(stu,12);
field1.set(o,12);
```

get()

```java
ä½œç”¨ï¼šè·å–å±æ€§çš„å€¼ã€‚
    
å‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å“ªä¸€ä¸ªå¯¹è±¡
    
è¿”å›å€¼ï¼šFieldç±»å‹
    
ç¤ºä¾‹ï¼š
// è·å–Classå¯¹è±¡
Class<?> stuClass = Class.forName("com.yuluochenxiao.Student");
    
// è·å–å­—æ®µå¯¹è±¡
Field field1 = stuClass.getField("age");
    
// è·å–å¯¹è±¡
Object o = stuClass.newInstance()

// è·å–å±æ€§å€¼
field1.get(o);
```

setAccessible()

```java
ä½œç”¨ï¼šå¿½ç•¥JVMçš„å®‰å…¨æ£€æŸ¥ã€‚å³å¯ä»¥åœ¨ä¸åœ¨åŒç±»ä¸­è®¿é—®ç§æœ‰å±æ€§
    ï¼ˆä¸é€šè¿‡åå°„æ˜¯æ— æ³•è®¿é—®ç§æœ‰å±æ€§çš„ï¼ŒåŸå› æ˜¯åœ¨ç¼–è¯‘æœŸé—´å°±æ— æ³•é€šè¿‡ï¼‰
    ï¼ˆåå°„æ˜¯åœ¨è¿è¡Œæ—¶æ‰ç”¨åˆ°çš„ï¼Œç»•è¿‡çš„ç¼–è¯‘çš„æ£€æŸ¥ï¼Œä½†æ˜¯åœ¨è¿è¡ŒæœŸé—´ä»ä¼šæŠ›å¼‚å¸¸ï¼Œé€šè¿‡è®¾ç½®å¿½ç•¥é£é™©ï¼Œä»èƒ½å¤Ÿè·å–åˆ°ç§æœ‰å±æ€§ï¼‰
    
å‚æ•°ï¼šå¸ƒå°”å€¼ trueï¼Œå¿½ç•¥å®‰å…¨æ£€æŸ¥
    
è¿”å›å€¼ï¼šæ— 
    
ç¤ºä¾‹ï¼š
// è·å–Classå¯¹è±¡
Class<?> stuClass = Class.forName("com.yuluochenxiao.Student");
    
// è·å–å­—æ®µå¯¹è±¡
Field field1 = stuClass.getField("age");
    
// å¿½ç•¥JVMçš„å®‰å…¨æ£€æŸ¥ï¼Œè®¿é—®ç§æœ‰å±æ€§
field1.setAccessible(true)
```



## åŸºæœ¬ä½¿ç”¨

> åå°„å¯ä»¥åœ¨è¿è¡ŒæœŸé—´ï¼ŒåŠ¨æ€çš„è·å–åˆ°ç±»ä¸­çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆå±æ€§ï¼Œæ–¹æ³•ï¼Œå®ä¾‹ï¼Œæ„é€ æ–¹æ³•ï¼Œé™æ€æ–¹æ³•ç­‰ï¼‰ã€‚

âœï¸ åå°„è§£å†³ä¹‹å‰å® ç‰©ç³»ç»Ÿä¸­æŠ½å¥–é€å® ç‰©çš„é—®é¢˜ã€‚

```java
ä¹‹å‰çš„å®ç°æ–¹æ¡ˆï¼š
æ ¹æ®ç”¨æˆ·ä¼ å…¥å¯¹åº”çš„å‚æ•° æ¥åˆ›å»ºå¯¹è±¡çš„å® ç‰©å­ç±»å¯¹è±¡ è¿”å›ï¼›
    
å¼Šç«¯ï¼š
    è¿™æ ·ç¼–å†™æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ˜¯ç›´æ¥ç¡¬ç¼–ç çš„æ–¹å¼åˆ›å»ºå¯¹è±¡ã€‚
    æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘åˆ°æœªæ¥å¯èƒ½æ–°å¢çš„ç±»ï¼Œå³æ–°çš„å® ç‰©å­ç±»ï¼Œè¿™æ ·çš„ä¹¦å†™æ–¹æ³•ï¼Œæ‰©å±•æ€§è¾ƒå·®ã€‚
    
ä½¿ç”¨åå°„çš„æ–¹å¼è§£å†³ï¼š
    åœ¨ç¼–ç æœŸé—´å¹¶ä¸ç›´æ¥å†™æ˜å…·ä½“åˆ›å»ºå“ªä¸ªå­ç±»å¯¹è±¡ï¼Œè€Œæ˜¯æ ¹æ®è°ƒç”¨è€…ä¼ å…¥çš„å…¨é™å®šåæ¥åˆ›å»ºå¯¹è±¡ã€‚
    è¿™æ ·æ›´åŠ çµæ´»ã€æ‰©å±•æ€§æ›´å¼ºã€ä¸ä¼šå—é™äºç¡¬ç¼–ç çš„å±€é™ã€‚     
```

ğŸ“ ç¤ºä¾‹1ï¼šä½¿ç”¨åå°„è§£å†³ç¼–è¯‘æœŸé—´ï¼Œæ— æ³•ç¡®å®šæœªæ¥æ–°å¢çš„ç±»ã€‚

ï¼ˆæœªä½¿ç”¨åå°„ï¼‰

```java
package com.ReflectPart.draw;
/**
 * å® ç‰©ç±» çˆ¶ç±»
 */
public class Pet {
    protected String name;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Pet(String name) {
        this.name = name;
    }

    public Pet() {

    }

    public void print(){
        System.out.println("å® ç‰©çš„åå­—æ˜¯ï¼š" + name);
    }
}

```

```java
package com.ReflectPart.draw;

public class Dog extends Pet{
    private String strain;
    public Dog() {}

    public Dog(String name, String strain) {
        super(name);
        this.strain = strain;
    }
}

```

```java
package com.ReflectPart.draw;

public class Penguin extends Pet{
    private char gender;

    public char getGender() {
        return gender;
    }

    public void setGender(char gender) {
        this.gender = gender;
    }

    public Penguin() {}

    public Penguin(String name, char gender) {
        super(name);
        this.gender = gender;
    }
}

```

```java
package com.ReflectPart.draw;

public class Master {
    // æŠ½å¥–è·å–å® ç‰©æ–¹æ³•
    public Pet getPet(String str){
        // å¦‚æœä¸ä½¿ç”¨åå°„ï¼Œè¿™é‡Œè¿˜éœ€è¦åŠ å¾ˆå¤šåˆ¤æ–­ï¼Œå½“è·å¾—3ç­‰å¥–ä¹‹ç±»çš„æ“ä½œ
        if (str.equals("No1")){
            Penguin penguin = new Penguin("å°ç™½",'é›„');
            return penguin;
        } else if (str.equals("No2")){
            Dog dog = new Dog("å¤§é»„","é‡‘æ¯›");
            return dog;
        }else {
            Dog dog = new Dog("å°é»„","é‡‘æ¯›");
            return dog;
        }
    }
}

```

```java
package com.ReflectPart.draw;

public class Test {
    public static void main(String[] args) {
        Master mas = new Master();
        Pet pet = mas.getPet("No3");
        System.out.println("è·å¾—çš„å¥–å“æ˜¯ "+pet.name);
    }
}

```

### è·å–å¯¹è±¡

âš¡ï¸ é€šè¿‡æ–¹å¼2ï¼šè·å–Classå¯¹è±¡ï¼Œç„¶åå†è°ƒç”¨Objectç±»ä¸­çš„`newInstance`æ–¹æ³•ï¼Œåˆ›å»ºå¯¹è±¡ã€‚

```java
ä¹‹å‰çš„å®ç°æ–¹æ¡ˆï¼š
æ ¹æ®ç”¨æˆ·ä¼ å…¥å¯¹åº”çš„å‚æ•° æ¥åˆ›å»ºå¯¹è±¡çš„å® ç‰©å­ç±»å¯¹è±¡ è¿”å›ï¼›
    
å¼Šç«¯ï¼š
    è¿™æ ·ç¼–å†™æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ˜¯ç›´æ¥ç¡¬ç¼–ç çš„æ–¹å¼åˆ›å»ºå¯¹è±¡ã€‚
    æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘åˆ°æœªæ¥å¯èƒ½æ–°å¢çš„ç±»ï¼Œå³æ–°çš„å® ç‰©å­ç±»ï¼Œè¿™æ ·çš„ä¹¦å†™æ–¹æ³•ï¼Œæ‰©å±•æ€§è¾ƒå·®ã€‚
    
ä½¿ç”¨åå°„çš„æ–¹å¼è§£å†³ï¼š
    åœ¨ç¼–ç æœŸé—´å¹¶ä¸ç›´æ¥å†™æ˜å…·ä½“åˆ›å»ºå“ªä¸ªå­ç±»å¯¹è±¡ï¼Œè€Œæ˜¯æ ¹æ®è°ƒç”¨è€…ä¼ å…¥çš„å…¨é™å®šåæ¥åˆ›å»ºå¯¹è±¡ã€‚
    è¿™æ ·æ›´åŠ çµæ´»ã€æ‰©å±•æ€§æ›´å¼ºã€ä¸ä¼šå—é™äºç¡¬ç¼–ç çš„å±€é™ã€‚   
```

> åœ¨ç¼–è¯‘æœŸé—´æ— æ³•ç¡®å®šå…·ä½“çš„ç±»åæ˜¯ä»€ä¹ˆï¼Œé€šè¿‡ä¼ å…¥ åŒ…å+ç±»åï¼Œå…¨é™å®šåçš„æ–¹å¼åˆ›å»ºå¯¹è±¡ï¼Œæ›´åŠ çµæ´»ã€‚
>
> åªæœ‰åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæ‰ä¼šæŠŠåŒ…å+ç±»åä¼ å…¥ç»™ä»–ï¼Œè¿™å°±æ˜¯åå°„åšçš„äº‹æƒ…ï¼Œè¿™ä¹Ÿæ˜¯æ¡†æ¶åšçš„äº‹æƒ…ã€‚
>
> ç”¨äº†æ¡†æ¶ä»¥ååªç”¨å†™æ¥å£ï¼Œå†™SQLè¯­å¥ï¼Œå®ç°ç±»æ˜¯ä¸ç”¨å†™çš„ï¼Œä»–ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆã€‚

```java
Springæ¡†æ¶ï¼šä»¥åä¸ä¼šç”¨newå…³é”®å­—äº†ï¼Œé€šè¿‡åå°„å’Œä»£ç†çš„æŠ€æœ¯ç»“åˆåˆ°äº†ä¸€èµ·ã€‚
```

```java
package com.ReflectPart.draw;

public class Master {
    // æŠ½å¥–è·å–å® ç‰©æ–¹æ³•ï¼Œå‚æ•°æ˜¯å­ç±»åç§° åŒ…å+ç±»åå…¨é™å®šåç§°
    public Pet getPet(String subClassName) {
        Pet pet = null;
        try {
            // é€šè¿‡ç±»ç±»å¯¹è±¡
            Class<?> aClass = Class.forName(subClassName);
            // åˆ›å»ºå®ä¾‹å¯¹è±¡ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯æ— å‚æ„é€ æ–¹æ³•åˆ›å»º
            Object obj = aClass.newInstance();
            // åˆ¤æ–­ç±»å‹ï¼Œç„¶åè½¬æ¢
            if (obj instanceof Pet){
                pet = (Pet) obj;
            }

        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        } catch (InstantiationException e) {
            e.printStackTrace();
        } catch (IllegalAccessException e) {
            e.printStackTrace();
        }
        // æŠŠå®ä¾‹è¿”å›
        return pet;
    }
}

```

```java
package com.ReflectPart.draw;

public class Test {
    public static void main(String[] args) {
        // åˆ›å»ºmaså¯¹è±¡
        Master mas = new Master();
        // è·å–å® ç‰©å¯¹è±¡
        Pet pet = mas.getPet("com.ReflectPart.draw.Dog");
        System.out.println("pet = " + pet); // pet = com.ReflectPart.draw.Dog@4554617c
    }
}
```

### è·å–å±æ€§

> ä¼˜åŠ¿ï¼šä¸éœ€è¦çŸ¥é“ç±»ä¸­çš„ä»£ç æ˜¯æ€ä¹ˆå†™çš„ï¼Œå¯ä»¥æå‰å†™å¥½ï¼Œç»™ç±»ä¸­çš„å±æ€§èµ‹å€¼ã€‚

```java
1. å…ˆè·å–åˆ°Classå¯¹è±¡
2. å†é€šè¿‡Classå¯¹è±¡ï¼Œè°ƒç”¨å¯¹åº”æ–¹æ³•ï¼Œè·å–åˆ°å­—æ®µ
```

ğŸ“ ä½¿ç”¨ç¤ºä¾‹ï¼šè·å– `public` ä¿®é¥°çš„å±æ€§

> é€šè¿‡ Classç±»ä¸­çš„ getFieldæ–¹æ³•è·å–ï¼ŒåŒæ—¶ä½¿ç”¨Fieldç±»ä¸­çš„setæ–¹æ³•èµ‹å€¼ã€‚

```java
package com.ReflectPart;

public class Vup {
    public String name;
    int age;

    public Vup() {
    }

    public Vup(String name, int age) {
        this.name = name;
        this.age = age;
    }
}
```

```java
package com.ReflectPart;

import java.lang.reflect.Field;

public class TestField1 {
    public static void main(String[] args) throws Exception {
        // é€šè¿‡åå°„è·å– ç±»çš„Classå¯¹è±¡
        Class<?> aClass = Class.forName("com.ReflectPart.Vup");
        // è·å–æ‰€æœ‰çš„publicä¿®é¥°çš„å­—æ®µå¯¹è±¡
        Field[] fields = aClass.getFields();
        // æ ¹æ®åç§°è·å–å•ä¸ªå­—æ®µå¯¹è±¡
        Field field1 = aClass.getField("name");
        // éå†
        for (Field field : fields) {
            // æ‰“å°ä¿¡æ¯
            // name - class java.lang.String - 1
            System.out.println(field.getName() + " - " + field.getType() +  " - " + field.getModifiers());
        }
        String name = field1.getName();
        System.out.println("name = " + name); // name = name
        // åˆ›å»ºå®ä¾‹å¯¹è±¡
        Object instance = aClass.newInstance();
        // è®¾ç½®å€¼
        field1.set(instance,"Hanser");
        // è¯»å–å€¼
        Object o = field1.get(instance);
        System.out.println("o = " + o); // o = Hanser
    }
}

```

ğŸ“ ä½¿ç”¨ç¤ºä¾‹ï¼šè·å– `private`ã€`protected` ä¿®é¥°çš„å±æ€§

> é€šè¿‡ Classç±»ä¸­çš„ getDeclaredField æ–¹æ³•è·å–ï¼ŒåŒæ—¶ä½¿ç”¨Fieldç±»ä¸­çš„setæ–¹æ³•èµ‹å€¼ã€‚

```java
package com.ReflectPart;

public class Vup {
    public String name;
    int age;
    private int height;

    public Vup() {
    }

    public Vup(String name, int age, int height) {
        this.name = name;
        this.age = age;
        this.height = height;
    }
}

```

```java
package com.ReflectPart;

import java.lang.reflect.Field;

public class TestField1 {
    public static void main(String[] args) throws Exception {
        // é€šè¿‡åå°„è·å– ç±»çš„Classå¯¹è±¡
        Class<?> aClass = Class.forName("com.ReflectPart.Vup");
        // è·å–æ‰€æœ‰çš„å·²å®šä¹‰çš„å­—æ®µå¯¹è±¡ è¿”å›å€¼ä¸ºå­—æ®µæ•°ç»„
        Field[] declaredFields = aClass.getDeclaredFields();
        // éå†å±æ€§æ•°ç»„
        for (Field declaredField : declaredFields) {
            System.out.println(declaredField.getName() + "-" + declaredField.getType() + "-" + declaredField.getModifiers());
        }
        // æ ¹æ®åç§°è·å–åˆ°å•ä¸ªå­—æ®µå¯¹è±¡
        Field field1 = aClass.getDeclaredField("height");
        // é€šè¿‡Vupç±» Classå¯¹è±¡ åˆ›å»º upç±»å®ä¾‹
        Object obj = aClass.newInstance();
        // è¡¨ç¤ºå¿½ç•¥JVMçš„å®‰å…¨æ£€æŸ¥ å³å¯ä»¥ä¸åœ¨åŒç±»ä¸­è®¿é—®ç§æœ‰å±æ€§
        field1.setAccessible(true);
        // å±æ€§èµ‹å€¼
        // ç¬¬ä¸€ä¸ªå‚æ•° è¡¨ç¤ºç»™å“ªä¸ªå¯¹è±¡çš„æ­¤å±æ€§èµ‹å€¼
        // ç¬¬äºŒæ ¹å‚æ•° å…·ä½“å€¼
        field1.set(obj,12);

        // è·å–å±æ€§å€¼ å‚æ•°è¡¨ç¤ºè·å–å“ªä¸ªå¯¹è±¡çš„æ­¤å±æ€§çš„å€¼
        System.out.println(field1.get(obj));
    }
}

```



### è·å–æ–¹æ³•

```java

```



### è·å–æ„é€ å™¨

```java

```



### è·å–æ³¨è§£

```java

```

